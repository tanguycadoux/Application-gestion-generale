{% extends "note_taking/base.html" %}

{% block extra_head %}
    {{ block.super }}
    <title>Liste des notes</title>
{% endblock extra_head %}

{% block content %}
    <h1>Liste des notes</h1>

    <p>
        {{ object_list.count }} notes dans la base de donn√©es.
    </p>

    <hr>
    <form method="post" action="{% url 'note_taking:import_note' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <p>
            <label for="note_import">Importer une note</label>
            <input type="file" name="note_import" id="note_import" accept=".qmd">
        </p>
        <button type="submit">Importer</button>
    </form>
    <hr>

    <h2>Table des objets</h2>

    <table>
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Projets</th>
            </tr>
        </thead>
        <tbody>
            {% for note in object_list %}
                <tr>
                    <th scope="row"><a href="{% url 'note_taking:note_detail' note.pk %}">
                        {{ note.date|date:'D. j M. Y' }}
                    </a></th>
                    <td></td>
                    <!-- <td>
                        <a target="_blank" href="{% url 'note_taking:note_md' note.pk %}">Markdown</a>
                        <a target="_blank" href="{% url 'note_taking:note_json' note.pk %}">JSON</a>
                    </td> -->
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock content %}
